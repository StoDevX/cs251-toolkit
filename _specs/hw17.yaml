---
assignment: hw17

compilers:
  - &cpp 'g++ --std=c++11 $@ -o $@.exec'
  - &o 'g++ --std=c++11 -c $@'

files:
  # Note that the students need either this set
  - disc.cpp: *cpp
  - stock.cpp: *cpp

  # or this set.
  - Image.cpp: null
  - Image.h: *o
  - ImageDriver.cpp:
    - *o
    - g++ --std=c++11 Image.o ImageDriver.o -o $@.exec

  - reader.cpp: *cpp
  - writer.cpp: *cpp
  - writeread.cpp: *cpp

tests:
  disc.cpp: $@.exec
  stock.cpp: $@.exec

  Image.cpp: null
  Image.h: null
  ImageDriver.cpp: $@.exec

  reader.cpp: $@.exec
  writer.cpp:
    - $@.exec
    - echo "\noutput.txt"
    - cat output.txt
  writeread.cpp: $@.exec

inputs:
  in.txt: |
    1 2
